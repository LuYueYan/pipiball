var egret=window.egret,__reflect=this&&this.__reflect||function(e,t,o){e.__class__=t,o?o.push(t):o=[t],e.__types__=e.__types__?o.concat(e.__types__):o},__extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);o.prototype=t.prototype,e.prototype=new o},__awaiter=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(r,n){function a(e){try{l(i.next(e))}catch(t){n(t)}}function s(e){try{l(i["throw"](e))}catch(t){n(t)}}function l(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function o(e){return function(t){return i([e,t])}}function i(o){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(a=l.trys,!(a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(i){o=[6,i],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,n,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),"throw":o(1),"return":o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},getLifeModal=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.videoBtn?this.init():this.addEventListener(egret.Event.COMPLETE,this.init,this)},t.prototype.init=function(){var e=this,t=setInterval(function(){userDataMaster.life>=5&&userDataMaster.seconds<=0&&(clearInterval(t),userDataMaster.seconds=0),e.timeText.text="还差"+e.getFormat(userDataMaster.seconds)+"恢复1点体力"},1e3);e.shareTimes.text="("+userDataMaster.dayShareLife.num+"/5)",this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this),this.videoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.videoFun,this),this.shareBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.shareFun,this)},t.prototype.getFormat=function(e){var t=Math.floor(e/60),o=e%60,i=10>o?"0"+o:o+"";return"0"+t+":"+i},t.prototype.closeFun=function(){sceneMaster.closeModal()},t.prototype.videoFun=function(){function e(){userDataMaster.myLife++}AdMaster.useVideo(function(){e()},function(){CallbackMaster.openShare(function(){e()})})},t.prototype.shareFun=function(){userDataMaster.todayShareLife?CallbackMaster.openShare(function(){userDataMaster.dayShareLife.num++,userDataMaster.myLife=userDataMaster.life+1}):platform.showModal({title:"温馨提示",content:"今日获取次数已用完，请明日再来"})},t}(eui.Component);__reflect(getLifeModal.prototype,"getLifeModal",["eui.UIComponent","egret.DisplayObject"]);var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,o){function i(i){t.call(o,i,e)}if(RES.hasRes(e)){var r=RES.getRes(e);r?i(r):RES.getResAsync(e,i,this)}else RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Main=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return DeviceMaster.init(this.stage.stageWidth,this.stage.stageHeight),userDataMaster.init(),[4,this.loadResource()];case 1:return e.sent(),this.createGameScene(),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),e=new LoadingUI,this.stage.addChild(e),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return o.sent(),[4,this.loadTheme()];case 2:return o.sent(),[4,RES.loadGroup("preload",0,e)];case 3:return o.sent(),this.stage.removeChild(e),[3,5];case 4:return t=o.sent(),console.error(t),[3,5];case 5:return[2]}})})},t.prototype.loadTheme=function(){var e=this;return new Promise(function(t,o){var i=new eui.Theme("resource/default.thm.json",e.stage);i.addEventListener(eui.UIEvent.COMPLETE,function(){t()},e)})},t.prototype.createGameScene=function(){CallbackMaster.init(),AdMaster.init(),sceneMaster.init(this.stage),sceneMaster.changeScene(new startScene),movieMaster.init()},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,o=RES.getRes(e);return t.texture=o,t},t.prototype.onButtonClick=function(e){var t=new eui.Panel;t.title="Title",t.horizontalCenter=0,t.verticalCenter=0,this.addChild(t)},t}(eui.UILayer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function e(){this.openDataContext={createDisplayObject:function(e,t,o){},postMessage:function(e){}}}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{code:""}]})})},e.prototype.onShareAppMessage=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.shareAppMessage=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.createUserInfoButton=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.vibrateShort=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.vibrateLong=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.navigateToMiniProgram=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.setUserCloudStorage=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.getUserCloudStorage=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.createRewardedVideoAd=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.createBannerAd=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.getSystemInfoSync=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{screenWidth:750,screenHeight:1334}]})})},e.prototype.setStorage=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.getStorage=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.removeStorage=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onShow=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){return t={scene:"",query:{},shareTicket:"",referrerInfo:{appId:"",extraData:{type:"openMiniApp",openMiniAppId:""}}},e&&e(t),[2]})})},e.prototype.offShow=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onHide=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.offHide=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.previewImage=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.exitMiniProgram=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.showModal=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.setClipboardData=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.getLaunchOptionsSync=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,o,i){function r(e){t.call(i,e)}function n(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,n,null),o.call(i))}var a=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(i,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,o){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(i,generateEUI2)},a)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var s=e.split("/");s.pop();var l=s.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(i,generateJSON.paths[e])},this):RES.getResByUrl(l,function(o){window.JSONParseClass.setData(o),egret.callLater(function(){t.call(i,generateJSON.paths[e])},a)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(i,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,n,null),RES.getResByUrl(e,r,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var ballCom=function(){function e(){this.type=3,this.isRemoved=!1,this.init()}return e.prototype.init=function(){this.img=this.createBitmapByName(userDataMaster.bulletArr[userDataMaster.bulletIndex].img),this.img.width=82,this.img.height=86,this.img.anchorOffsetX=this.img.width/2,this.img.anchorOffsetY=this.img.height/2},e.prototype.createBody=function(e,t,o){var i=new p2.Box({width:1.8,height:1.8});return i.collisionGroup=2,i.collisionMask=5,i.sensor=!0,this.boxBody=new p2.Body({mass:100,position:[e,t],type:p2.Body.KINEMATIC}),this.boxBody.addShape(i),this.boxBody.displays=[this.img],o.addChild(this.img),egret.Tween.get(this.img,{loop:!0}).to({scaleX:.9,scaleY:1.1},200).to({scaleX:1,scaleY:1},100),this.boxBody},e.prototype.updateText=function(e,t){void 0===t&&(t=null);var o=this,i=movieMaster.getGif("bullet");i.x=this.img.x-100,i.y=this.img.y-100,e.addChild(i),i.gotoAndPlay(1,1),i.addEventListener(egret.Event.COMPLETE,function(e){i.parent&&i.parent.removeChild(i)},this),o.boxBody.shapes[0].collisionMask=0,o.isRemoved=!0,setTimeout(function(){o.boxBody.type=p2.Body.DYNAMIC,o.boxBody.gravityScale=0,o.boxBody.velocity=[0,-10],o.boxBody.angularVelocity=2;var i=(o.boxBody.position[1]-e.getPosition(935))/10;setTimeout(function(){e.world.removeBody(o.boxBody),o.img.parent&&o.img.parent.removeChild(o.img),t&&t()},1e3*i)},1e3)},e.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,o=RES.getRes(e+"_png");return t.texture=o,t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t},e}();__reflect(ballCom.prototype,"ballCom"),window.ballCom=ballCom;var beeCom=function(){function e(){this.adaptation=0,this.power=1,this.init()}return e.prototype.init=function(){this.img=this.createBitmapByName(userDataMaster.bulletArr[userDataMaster.bulletIndex].img),this.img.width=58,this.img.height=63,this.img.anchorOffsetX=this.img.width/2,this.img.anchorOffsetY=this.img.height/2},e.prototype.createBody=function(e,t){void 0===t&&(t=7.5);var o=new p2.Box({width:1.16,height:1.26});return o.collisionGroup=1,o.collisionMask=2,this.boxBody=new p2.Body({mass:100,position:[t,e.getPosition(900)]}),this.boxBody.gravityScale=0,this.boxBody.addShape(o),e.world.addBody(this.boxBody),this.boxBody.displays=[this.img],e.addChild(this.img),this.boxBody},e.prototype.powerUp=function(e){void 0===e&&(e=1),this.power=e,2==e?this.img.texture=RES.getRes("img_lightning_02_png"):1==e&&(this.img.texture=RES.getRes(userDataMaster.bulletArr[userDataMaster.bulletIndex].img+"_png"))},e.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,o=RES.getRes(e+"_png");return t.texture=o,t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t},e}();__reflect(beeCom.prototype,"beeCom"),window.beeCom=beeCom;var gridCom=function(){function e(e){void 0===e&&(e=1),this.itemW=96,this.num=1,this.type=1,this.isRemoved=!1,this.num=e;var t=Math.random();.1>t?this.type=2:.3>t?this.type=5:.45>t&&(this.type=6),this.init()}return e.prototype.onLoadComplete=function(e){},e.prototype.init=function(){if(1==this.type){var e="img_diamonds_a1";Math.random()>.7&&(e="img_diamonds_c1"),this.img=this.createBitmapByName(e)}else 2==this.type?this.img=this.createBitmapByName("img_diamonds_b1"):5==this.type?this.img=this.createBitmapByName("img_diamonds_e1"):this.img=this.createBitmapByName("img_diamonds_d1");this.img.anchorOffsetX=this.img.width/2,this.img.anchorOffsetY=this.img.height/2,this.txt=new egret.BitmapText,this.font=RES.getRes("stripe_text_fnt"),this.txt.font=this.font,this.txt.text=this.num+"",this.txt.width=this.itemW,this.txt.textAlign="center",this.txt.anchorOffsetX=this.img.width/2,this.txt.anchorOffsetY=this.img.height/1.8},e.prototype.createBody=function(e,t,o){var i;if(2==this.type){var r=[[1,-1],[1,1],[-1,1]];i=new p2.Convex({vertices:r})}else i=new p2.Box({width:1.8,height:1.8});return i.collisionGroup=6,i.collisionMask=7,this.boxBody=new p2.Body({mass:100,position:[e,t],type:p2.Body.KINEMATIC}),this.boxBody.addShape(i),6==this.type&&(this.boxBody.type=p2.Body.DYNAMIC,this.boxBody.gravityScale=0,this.boxBody.velocity=[.5,0]),this.boxBody.fixedRotation=!1,this.boxBody.displays=[this.img,this.txt],o.addChild(this.img),o.addChild(this.txt),this.boxBody},e.prototype.updateText=function(e,t,o){void 0===t&&(t=1),void 0===o&&(o=null);var i=new egret.BitmapText;i.font=this.font;t>this.num?this.num+"":t+"";i.text=t>this.num?this.num+"":t+"";var r=90*Math.random()-45;if(i.x=this.img.x+r,i.y=this.img.y-80,e.addChild(i),egret.Tween.removeTweens(this.img),egret.Tween.get(this.img).to({y:this.img.y-10},20).to({y:this.img.y},20),egret.Tween.get(i).to({scaleX:1.2,scaleY:1.2,y:i.y-80},500).to({alpha:.5},200).call(function(){i.parent&&i.parent.removeChild(i)}),this.num>t)this.num-=t,this.txt.text=this.num+"";else{this.isRemoved=!0,e.world.removeBody(this.boxBody),this.img.parent&&this.img.parent.removeChild(this.img),this.txt.parent&&this.txt.parent.removeChild(this.txt);var n=2==this.type?1:this.type,a=movieMaster.getGif("boom_"+n),s=5==this.type?250:200;a.x=this.img.x-s/2,a.y=this.img.y-s/2,e.addChild(a),a.gotoAndPlay(1,1),a.addEventListener(egret.Event.COMPLETE,function(e){a.parent&&a.parent.removeChild(a)},this);var l={};if(5==this.type)for(var u=e.adaptParams.itemWidth/e.factor,d=function(t,i){var r=e.gridArr[t],n=Math.floor(100*Math.abs(r.boxBody.position[0]-c.boxBody.position[0]))/100,a=Math.floor(100*Math.abs(r.boxBody.position[1]-c.boxBody.position[1]))/100;if(r.boxBody.id!=c.boxBody.id&&u>=n&&u>=a)if(console.log("boom",r.type),3==r.type){if(!r.isRemoved){e.shootPoint.beeNum++;var s=r.boxBody.position[0];r.updateText(e,function(){var t=new beeCom;t.createBody(e,s),e.beeArr.push(t)})}}else 4==r.type||r.isRemoved||(console.log(55555),r.updateText(e,r.num,o))},c=this,h=0,p=e.gridArr.length;p>h;h++)d(h,p);o&&o(l)}},e.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,o=RES.getRes(e+"_png");return t.texture=o,t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t},e}();__reflect(gridCom.prototype,"gridCom"),window.gridCom=gridCom;var starCom=function(){function e(){this.type=4,this.isRemoved=!1,this.init()}return e.prototype.init=function(){this.img=this.createBitmapByName("img_lightning_01")},e.prototype.createBody=function(e,t,o){var i=new p2.Box({width:1.8,height:1.8});return i.collisionGroup=2,i.collisionMask=5,i.sensor=!0,this.boxBody=new p2.Body({mass:100,position:[e,t],type:p2.Body.KINEMATIC}),this.boxBody.addShape(i),this.boxBody.displays=[this.img],o.addChild(this.img),this.boxBody},e.prototype.updateText=function(e,t){void 0===t&&(t=null);var o=this;if(o.isRemoved=!0,!this.gif){var i=movieMaster.getGif("lightning");i.x=this.img.x-90,i.y=this.img.y-90,this.gif=i,i.addEventListener(egret.Event.COMPLETE,function(e){i.parent&&i.parent.removeChild(i)},this)}e.addChild(this.gif),this.gif.gotoAndPlay(1,1),t&&t()},e.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,o=RES.getRes(e+"_png");return t.texture=o,t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t},e}();__reflect(starCom.prototype,"starCom"),window.starCom=starCom;var tweenButton=function(e){function t(){var t=e.call(this)||this;return t.osx=t.scaleX,t.osy=t.scaleY,t}return __extends(t,e),t.prototype.onTouchCancle=function(t){e.prototype.onTouchCancle.call(this,t);var o=egret.Tween.get(this);o.to({scaleX:this.osx,scaleY:this.osy},60)},t.prototype.onTouchBegin=function(t){e.prototype.onTouchBegin.call(this,t);var o=egret.Tween.get(this);o.to({scaleX:.8*this.osx,scaleY:.8*this.osy},60)},t.prototype.buttonReleased=function(){e.prototype.buttonReleased.call(this);var t=egret.Tween.get(this);t.to({scaleX:this.osx,scaleY:this.osy},60)},t}(eui.Button);__reflect(tweenButton.prototype,"tweenButton"),window.tweenButton=tweenButton;var AdMaster=function(){function e(){}return e.getInstance=function(){return e.shared||(e.shared=new e),e.shared},e.init=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return t=this,e.INIT_STATUS=1,[4,this.list()];case 1:return o.sent(),[2]}})})},e.list=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,ServiceMaster.post(ServiceMaster.getConfig,{},function(t){1===parseInt(t.code)&&t.data&&(1==t.data.edition_1&&(CallbackMaster.hasChecked=!0),void 0!==t.data.banner_id&&null!=t.data.banner_id&&t.data.banner_id.length>0&&(e.banner=t.data.banner_id,e.hasBanner=!0,e.randomCacheBannerAd()),void 0!==t.data.video_id&&null!=t.data.video_id&&t.data.video_id.length>0&&(e.video=t.data.video_id,e.hasVideo=!0,e.randomCacheVideoAd()),e.INIT_STATUS=2)},function(t){e.INIT_STATUS=3})];case 1:return t.sent(),[2]}})})},e.randomCacheVideoAd=function(){e.video&&(e.cacheVideoAd=platform.createRewardedVideoAd(e.video[Math.floor(Math.random()*e.video.length)]),e.cacheVideoAd.onError(function(t){console.log(1,t),e.noVideo=!0}))},e.randomCacheBannerAd=function(){e.banner&&(e.cacheBannerAd=platform.createBannerAd(e.banner[Math.floor(Math.random()*e.banner.length)],{}),e.cacheBannerAd.onError(function(e){console.log(e)}))},e.openVideoAd=function(t,o){void 0===t&&(t=null),void 0===o&&(o=null),e.cacheVideoAd&&(e.cacheVideoAd.show().then(function(){})["catch"](function(t){e.cacheVideoAd.load(),o(t)}),e.cacheVideoAd.onClose(t))},e.openBannerAd=function(t){void 0===t&&(t={});var o=setInterval(function(){e.INIT_STATUS>1&&(e._openBannerAd(t),clearInterval(o))},50)},e._openBannerAd=function(t){e.cacheBannerAd&&(e.cacheBannerAd.style.width=DeviceMaster.getX(t.width)||DeviceMaster.screenWidth,e.cacheBannerAd.style.left=DeviceMaster.getX(t.left)||0,e.cacheBannerAd.style.top=DeviceMaster.getY(t.top)||0,t.height&&(e.cacheBannerAd.style.height=DeviceMaster.getY(t.height)),e.cacheBannerAd.show(),e.cacheBannerAd.onResize(function(t){var o=t.height*DeviceMaster.screenWidth/t.width;e.cacheBannerAd.style.width=DeviceMaster.screenWidth,e.cacheBannerAd.style.top=DeviceMaster.screenHeight-o,DeviceMaster.stageHeight>1600&&(e.cacheBannerAd.style.top-=40)}))},e.closeBannerAd=function(){e.cacheBannerAd&&e.cacheBannerAd.hide()},e.useVideo=function(t,o){if(void 0===t&&(t=null),void 0===o&&(o=null),e.cacheVideoAd)if(e.noVideo)platform.showModal({title:"温馨提示",content:"今日视频次数已经用完，请明日再来哦~"});else{var i=!0;e.openVideoAd(function(e){(e&&e.isEnded||void 0===e)&&i&&t&&t(),t=null,i=!1})}else o&&o()},e.banner=[],e.hasBanner=!1,e.video=[],e.hasVideo=!1,e.cacheVideoAd=null,e.haveMoreVideo=!0,e.cacheBannerAd=null,e.INIT_STATUS=0,e.closeSuccess=null,e.initClose=!1,e.noVideo=!1,e}();__reflect(AdMaster.prototype,"AdMaster"),window.AdMaster=AdMaster;var CallbackMaster=function(){function e(){}return e.init=function(){var t={query:"type=newUser&uid="+userDataMaster.getMyInfo.uid};platform.onShareAppMessage(t),platform.onShow(function(t){if((new Date).getTime()-e.shareTime>3e3)e.shareSuc&&e.shareSuc(),e.saveShareSuc=null,e.shareFailText="分享到不同的群才能获得奖励哦~";else{e.saveShareSuc=e.shareSuc;var o={title:"温馨提示",content:e.shareFailText,confirmText:"再试一次",success:function(t){t.confirm?e.openShare(e.saveShareSuc):e.shareFailText="分享到不同的群才能获得奖励哦~"}};platform.showModal(o)}e.shareSuc=null}),platform.onHide(function(){soundMaster.soundChannel&&soundMaster.soundChannel.stop(),e.onHideFun&&e.onHideFun();var t={gold:userDataMaster.gold,level:userDataMaster.level,life:userDataMaster.life,closeDate:(new Date).getTime()-(3e5-1e3*userDataMaster.seconds),levelStar:userDataMaster.levelStar,dayShareLife:userDataMaster.dayShareLife,tool:userDataMaster.tool,dayGift:userDataMaster.dayGift,bulletIndex:userDataMaster.bulletIndex,bulletArr:userDataMaster.bulletArr,dayFreeLife:userDataMaster.dayFreeLife},o={uid:userDataMaster.getMyInfo.uid,info:JSON.stringify(t)};ServiceMaster.post(ServiceMaster.setGameData,o,function(e){1==e.code&&e.data})})},e.openShare=function(t,o,i,r){if(void 0===t&&(t=null),void 0===o&&(o=!0),void 0===i&&(i=""),void 0===r&&(r=0),e.hasChecked){var n=e.shareInfo[0];0==r?n=e.shareInfo[Math.floor(2*Math.random())]:(n.imageUrl=e.shareInfo[2].imageUrl,n.title=(userDataMaster.myInfo.nickName||"")+e.shareInfo[2].title);var a={title:n.title,imageUrl:n.imageUrl,query:"uid="+userDataMaster.getMyInfo.uid+i};platform.shareAppMessage(a),e.shareTime=o?(new Date).getTime():0,e.shareSuc=t}},e.openHide=function(t){void 0===t&&(t=null),e.onHideFun=t},e.recommandClick=function(e,t){void 0===e&&(e=1);var o=userDataMaster.getMyInfo.uid,i={id:t.id,uid:o,appid:t.appid,type:e,module_id:t.module_id,module_ext_id:t.module_ext_id};ServiceMaster.post(ServiceMaster.gameClick,i,function(e){1==e.code&&e.data})},e.glowFilter=function(e,t,o,i){void 0===e&&(e=7159493),void 0===t&&(t=.8),void 0===o&&(o=35),void 0===i&&(i=35);var r=2,n=3,a=!1,s=!1,l=new egret.GlowFilter(e,t,o,i,r,n,a,s);return l},e.shareSuc=null,e.shareTime=0,e.onHideFun=null,e.hasChecked=!1,e.saveShareSuc=null,e.shareFailText="分享到不同的群才能获得奖励哦~",e.shareInfo=[{imageUrl:"https://lixi.h5.app81.com/minigame/game_lixi/share_img/share_1.jpg",title:"球球精灵要饿坏了，快点来喂养吧~"},{imageUrl:"https://lixi.h5.app81.com/minigame/game_lixi/share_img/share_2.jpg",title:"快来测试一下你的手速是几阶吧？听说单身10年的人手速才达到5阶"},{imageUrl:"https://lixi.h5.app81.com/minigame/game_lixi/share_img/share_3.jpg?t=1",title:"给你采集了一大袋能量果，快来领一份吧~"}],e}();__reflect(CallbackMaster.prototype,"CallbackMaster");var DeviceMaster=function(){function e(){}return e.init=function(t,o){void 0===t&&(t=750),void 0===o&&(o=1334),e.stageWidth=t,e.stageHeight=o,e.SYSTEM_INFO=platform.getSystemInfoSync(),e.model=e.SYSTEM_INFO.model,e.system=e.SYSTEM_INFO.system,e.screenWidth=e.SYSTEM_INFO.screenWidth,e.screenHeight=e.SYSTEM_INFO.screenHeight,e.scaleWidth=e.screenWidth/e.stageWidth,e.scaleHeight=e.screenHeight/e.stageHeight,e.windowWidth=2*e.SYSTEM_INFO.windowWidth,e.windowHeight=2*e.SYSTEM_INFO.windowHeight},e.getX=function(t){return void 0===t&&(t=0),t*e.scaleWidth},e.getY=function(t){return void 0===t&&(t=0),t*e.scaleHeight},e.screenWidth=750,e.screenHeight=1334,e.windowWidth=750,e.windowHeight=1334,e.stageWidth=750,e.stageHeight=1334,e.scaleWidth=1,e.scaleHeight=1,e}();__reflect(DeviceMaster.prototype,"DeviceMaster"),window.DeviceMaster=DeviceMaster;var movieMaster=function(){function e(){}return e.init=function(){var t=RES.getRes("boom_gif_json"),o=RES.getRes("boom_gif_png");e.mcFactory=new egret.MovieClipDataFactory(t,o)},e.getGif=function(t){var o=new egret.MovieClip(e.mcFactory.generateMovieClipData(t));return o},e}();__reflect(movieMaster.prototype,"movieMaster"),window.movieMaster=movieMaster;var sceneMaster=function(){function e(){}return e.init=function(t){e.stage=t,e.stageHeight=t.stageHeight;var o=new eui.Rect(t.stageWidth,t.stageHeight,0);o.alpha=.7,e.modalBg=o;var i=new eui.Rect(t.stageWidth,t.stageHeight,0);i.alpha=.7,e.littleBg=i},e.changeScene=function(t){e.scene&&e.scene.parent&&e.stage.removeChild(e.scene),e.stage.addChild(t),e.scene=t,e.modal=null,e.littleModal=null},e.openModal=function(t,o){void 0===o&&(o=!0),e.modal&&(e.scene.removeChild(e.modal),e.modal=null,e.littleModal=null),e.modal=t,o?(e.scene.addChild(e.modalBg),t.scaleX=0,t.scaleY=0,e.scene.addChild(t),setTimeout(function(){t.x=375,t.y=t.height/2,1334!=t.height&&(t.y+=200),t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,egret.Tween.get(t).to({scaleX:1,scaleY:1},500,egret.Ease.backOut)},50)):e.scene.addChild(t)},e.closeModal=function(){e.modal&&egret.Tween.get(e.modal).to({scaleX:0,scaleY:0},500,egret.Ease.backIn).call(function(){e.scene.removeChild(e.modal),e.modalBg.parent&&e.scene.removeChild(e.modalBg),e.modal=null}),e.closeLittleModal()},e.openLittleModal=function(t,o){void 0===o&&(o=!0),e.littleModal&&e.modal.removeChild(e.littleModal),o&&e.modal.addChild(e.littleBg),e.littleModal=t,t.scaleX=0,t.scaleY=0,e.scene.addChild(t),setTimeout(function(){t.x=375,t.y=t.height/2+300,t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,egret.Tween.get(t).to({scaleX:1,scaleY:1},500,egret.Ease.backOut)},50)},e.closeLittleModal=function(){e.littleModal&&(e.scene.removeChild(e.littleModal),e.littleModal=null,e.littleBg.parent&&e.modal.removeChild(e.littleBg))},e.stageHeight=1334,e}();__reflect(sceneMaster.prototype,"sceneMaster");var ServiceMaster=function(){function e(){}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.objSort=function(e){for(var t=Object.keys(e).sort(),o={},i=0;i<t.length;i++)o[t[i]]=e[t[i]];return o},e.createToken=function(t){"undefined"!=typeof t.token&&delete t.token;var o=e.objSort(t),i="";for(var r in o)i+=i?"&":"",i+=r+"="+o[r];return i+="!@#$%^&*",(new md5).hex_md5(i)},e.request=function(e,t,o,i,r,n){void 0===t&&(t="POST"),void 0===o&&(o={}),void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=null);var a=new egret.HttpRequest;a.responseType=egret.HttpResponseType.TEXT,a.open(e,egret.HttpMethod[t]),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),o.token=this.createToken(o),a.send(this.obj2str(o,!0)),a.addEventListener(egret.Event.COMPLETE,function(){i&&i(JSON.parse(a.response))},this),r&&a.addEventListener(egret.IOErrorEvent.IO_ERROR,r,this),n&&a.addEventListener(egret.ProgressEvent.PROGRESS,n,this)},e.post=function(t,o,i,r,n){void 0===o&&(o={}),void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=null),e.request(e.DOMAIN+t,e.METHOD_POST,o,i,r,n)},e.get=function(t,o,i,r,n){void 0===o&&(o={}),void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=null),e.request(e.DOMAIN+t,e.METHOD_GET,o,i,r,n)},e.obj2str=function(e,t){void 0===t&&(t=!1);var o="";for(var i in e)o+=!t||"encryptedData"!=i&&"iv"!=i?"&"+i+"="+e[i]:"&"+i+"="+encodeURI(e[i]).replace(/\+/g,"%2B");return o.substring(1)},e.DOMAIN="https://newbox.0e3.cn/gplants",e.METHOD_POST="POST",e.METHOD_GET="GET",e.logins="/user/logins",e.updateUser="/user/updateUser",e.getGameList="/other/getGameList",e.getConfig="/other/getConfig",e.getScore="/user/getScore",e.rank_world="/user/rank_world",e.gameClick="/other/gameClick",e.getGameData="/user/getGameData",e.setGameData="/user/setGameData",e}();__reflect(ServiceMaster.prototype,"ServiceMaster"),window.ServiceMaster=ServiceMaster;var soundMaster=function(){function e(){}return e.init=function(){RES.getResByUrl("https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_guide.mp3",function(t){e.guide_tap=t});for(var t=function(t,o){RES.getResByUrl(e.songArr[t].path,function(o){e.songArr[t].sound=o})},o=0,i=e.songArr.length;i>o;o++)t(o,i)},e.playSongMusic=function(t,o){void 0===t&&(t=0),void 0===o&&(o=0),e.songArr[t].sound&&e.isMusic&&(0==o?(e.musicStart=egret.getTimer(),e.soundChannel=e.songArr[t].sound.play(0,-1)):e.soundChannel=e.songArr[t].sound.play(e.pauseTime,-1))},e.stopSongMusic=function(t){void 0===t&&(t=!1),e.soundChannel&&(t?e.pauseTime=(egret.getTimer()-e.musicStart)/1e3:e.pauseTime=0,e.soundChannel.stop(),e.soundChannel=null)},e.playSingleMusic=function(t){e[t]&&e.isMusic&&e[t].play(0,1)},Object.defineProperty(e,"isMusic",{get:function(){return e.music},set:function(t){t?e.music=!0:e.music=!1},enumerable:!0,configurable:!0}),e.songArr=[{path:"https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_0.mp3",sound:null},{path:"https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_1.mp3",sound:null},{path:"https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_2.mp3",sound:null},{path:"https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_3.mp3",sound:null},{path:"https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_4.mp3",sound:null},{path:"https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_5.mp3",sound:null},{path:"https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_6.mp3",sound:null},{path:"https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_7.mp3",sound:null},{path:"https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_8.mp3",sound:null},{path:"https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_9.mp3",sound:null},{path:"https://lixi.h5.app81.com/minigame/game_lixi/new_music/music_10.mp3",sound:null}],e.music=!0,e.musicStart=0,e.pauseTime=0,e}();__reflect(soundMaster.prototype,"soundMaster");var userDataMaster=function(){function e(){}return e.getInstance=function(){return e.shared||(e.shared=new e),e.shared},e.init=function(){var t=[e.gold,e.life,e.level,e.bulletIndex,e.tool];e.myCollection=new eui.ArrayCollection(t),e.login(),e.getRecommand()},e.getGameData=function(t){0!=t?ServiceMaster.post(ServiceMaster.getGameData,{uid:t},function(t){if(1==t.code&&t.data){var o=t.data;if(o.info.length>0){var i=JSON.parse(o.info);if(i.gold&&(e.gold=i.gold),i.life&&(e.life=i.life),i.level&&(e.level=i.level),i.closeDate&&(e.closeDate=i.closeDate,i.life<5)){var r=i.closeDate,n=((new Date).getTime()-r)/1e3/5/60,a=e.life+Math.floor(n);if(a>=5)e.myLife=a;else{e.life=a,e.myCollection.replaceItemAt(a,1);var s=n/1e3-5*Math.floor(n)*60;e.updateTime(s)}}i.levelStar&&(e.levelStar=i.levelStar),i.dayShareLife&&(e.dayShareLife=i.dayShareLife,e.todayShareLife),i.dayGift&&(e.dayGift=i.dayGift),i.tool&&(e.tool=i.tool),i.bulletArr&&(e.bulletArr=i.bulletArr),i.bulletIndex&&(e.bulletIndex=i.bulletIndex),i.dayFreeLife&&(e.dayFreeLife=i.dayFreeLife)}}}):e.requestTimes<5&&setTimeout(function(){e.login()},2e3)},e.getRecommand=function(){ServiceMaster.post(ServiceMaster.getGameList,{},function(t){1==t.code&&t.data&&(e.recommand=t.data)})},Object.defineProperty(e,"myGold",{set:function(t){e.gold=t,e.myCollection.replaceItemAt(t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"myLife",{set:function(t){e.life=t>5?5:t,e.myCollection.replaceItemAt(t,1),5>t&&!e.terval&&(e.seconds=300,e.updateTime()),console.log("lifechange",t,e.life)
},enumerable:!0,configurable:!0}),Object.defineProperty(e,"myLevel",{set:function(t){e.level=t,e.myCollection.replaceItemAt(t,2)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"myBulleIndex",{set:function(t){e.bulletIndex=t,e.myCollection.replaceItemAt(t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"myTool",{set:function(t){e.tool=t,e.myCollection.replaceItemAt(t,4)},enumerable:!0,configurable:!0}),e.updateTime=function(t){void 0===t&&(t=300),console.log("t",t),clearInterval(e.terval),e.terval=setInterval(function(){t--,e.seconds=t,0>=t&&(console.log("t=0",t),clearInterval(e.terval),e.terval=null,e.myLife=e.life+1)},1e3)},Object.defineProperty(e,"getMyInfo",{get:function(){return e.myInfo},set:function(t){e.myInfo=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"todayShareLife",{get:function(){if(e.dayShareLife.day==e.getToday()){if(e.dayShareLife.num>=5)return!1}else e.dayShareLife={day:e.getToday(),num:0};return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"todayGift",{get:function(){if(e.dayGift.day==e.getToday()){if(e.dayGift.num>=2)return!1}else e.dayGift={day:e.getToday(),num:0};return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"todayFreeLife",{get:function(){if(e.dayFreeLife.day==e.getToday()){if(e.dayFreeLife.num>=8)return!1}else e.dayFreeLife={day:e.getToday(),num:0};return!0},enumerable:!0,configurable:!0}),e.createLoginBtn=function(t,o,i,r){return __awaiter(this,void 0,void 0,function(){var n,a,s;return __generator(this,function(l){switch(l.label){case 0:return n=this,a=DeviceMaster.screenWidth/750,t*=a,o*=a,i*=a,r*=a,s=e,[4,platform.createUserInfoButton({type:"image",image:"../../resource/assets/imgData/img_yxbj.png",style:{left:t,top:o,width:i,height:r,lineHeight:40,backgroundColor:"#ff0000",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}})];case 1:return s.userInfoBtn=l.sent(),e.userInfoBtn.onTap(function(t){e.updateUser(t)}),[2]}})})},e.updateUser=function(t){return void 0===t&&(t=null),__awaiter(this,void 0,void 0,function(){var o,i;return __generator(this,function(r){return o=t.userInfo,e.myInfo.nickName=o.nickName,e.myInfo.avatarUrl=o.avatarUrl,i={uid:e.getMyInfo.uid,nickName:o.nickName,gender:o.gender,avatarUrl:o.avatarUrl},ServiceMaster.post(ServiceMaster.updateUser,i,function(t){1===parseInt(t.code)&&t.data&&(e.userInfoBtn&&e.userInfoBtn.destroy(),e.loginCallback&&e.loginCallback(),e.loginCallback=null)}),[2]})})},e.login=function(){return __awaiter(this,void 0,void 0,function(){var t,o;return __generator(this,function(i){switch(i.label){case 0:return[4,platform.login()];case 1:return t=i.sent(),o={code:t.code},e.shareUid>0&&(o.pid=e.shareUid),e.requestTimes++,ServiceMaster.post(ServiceMaster.logins,o,function(t){1===parseInt(t.code)&&t.data&&(e.getMyInfo=t.data,platform.openDataContext.postMessage({type:"openid",openid:t.data.openId}),e.getGameData(t.data.uid))}),[2]}})})},e.getToday=function(){var e=new Date,t=e.getMonth()+1>9?e.getMonth()+1+"":"0"+(e.getMonth()+1),o=e.getDate()>9?e.getDate()+"":"0"+e.getDate();return e.getFullYear()+"-"+t+"-"+o},e.myInfo={uid:0,openId:"",is_new_user:!0,nickName:"",avatarUrl:""},e.gold=500,e.life=5,e.level=1,e.closeDate=0,e.seconds=0,e.terval=null,e.levelStar=[],e.bulletIndex=0,e.tool={bullet:{level:1,unlock:!0,num:0},glass:{level:1,unlock:!0,num:0},hammer:{level:2,unlock:!1,num:0},hat:{level:10,unlock:!1,num:0},lamp:{level:15,unlock:!1,num:0}},e.bulletArr=[{id:0,img:"img_bullet_a2",title:"仙人球",price:1e3,state:1},{id:1,img:"img_bullet_b3",title:"小蘑菇",price:300,state:0},{id:2,img:"img_bullet_c3",title:"西兰花",price:500,state:0},{id:3,img:"img_bullet_d3",title:"小南瓜",price:1e3,state:0},{id:4,img:"img_bullet_e3",title:"包菜君",price:2e3,state:0},{id:5,img:"img_bullet_f3",title:"仙人掌",price:3e3,state:0},{id:6,img:"img_bullet_g3",title:"仙人掌",price:5e3,state:0}],e.levelArr=[{level:1,amount:10,existAmount:0,score:20},{level:2,amount:20,existAmount:0,score:40},{level:3,amount:20,existAmount:0,score:60},{level:4,amount:20,existAmount:0,score:100},{level:5,amount:20,existAmount:0,score:200},{level:6,amount:10,existAmount:0,score:20},{level:7,amount:20,existAmount:0,score:40},{level:8,amount:20,existAmount:0,score:60},{level:9,amount:20,existAmount:0,score:100},{level:10,amount:20,existAmount:0,score:200},{level:11,amount:5,existAmount:0,score:20},{level:12,amount:5,existAmount:0,score:40},{level:13,amount:5,existAmount:0,score:60},{level:14,amount:5,existAmount:0,score:100},{level:15,amount:10,existAmount:0,score:200},{level:16,amount:10,existAmount:0,score:20},{level:17,amount:20,existAmount:0,score:40},{level:18,amount:30,existAmount:0,score:60},{level:19,amount:40,existAmount:0,score:100},{level:20,amount:40,existAmount:0,score:200},{level:21,amount:10,existAmount:0,score:20},{level:22,amount:20,existAmount:0,score:40},{level:23,amount:30,existAmount:0,score:60},{level:24,amount:40,existAmount:0,score:100},{level:25,amount:40,existAmount:0,score:200},{level:26,amount:10,existAmount:0,score:20},{level:27,amount:20,existAmount:0,score:40},{level:28,amount:30,existAmount:0,score:60},{level:29,amount:40,existAmount:0,score:100},{level:30,amount:40,existAmount:0,score:200},{level:31,amount:10,existAmount:0,score:20},{level:32,amount:20,existAmount:0,score:40},{level:33,amount:30,existAmount:0,score:60},{level:34,amount:40,existAmount:0,score:100},{level:35,amount:40,existAmount:0,score:200},{level:36,amount:10,existAmount:0,score:20},{level:37,amount:20,existAmount:0,score:40},{level:38,amount:30,existAmount:0,score:60},{level:39,amount:40,existAmount:0,score:100},{level:40,amount:40,existAmount:0,score:200}],e.shareUid=0,e.requestTimes=0,e.dayShareLife={day:"",num:0},e.dayGift={day:"",num:0},e.dayFreeLife={day:"",num:0},e.loginCallback=null,e}();__reflect(userDataMaster.prototype,"userDataMaster"),window.userDataMaster=userDataMaster;var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){},t.prototype.onProgress=function(e,t){},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var getSuccess=function(e){function t(t,o){var i=e.call(this)||this;return i.imgName="img_diamond_big_png",i.shareType=1,i.imgName=t,i.title=o,i}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.knowBtn?this.init():this.addEventListener(egret.Event.COMPLETE,this.init,this)},t.prototype.init=function(){this.img.texture=RES.getRes(this.imgName),this.txt.text=""+this.title,egret.Tween.get(this.light,{loop:!0}).to({rotation:360},5e3),this.knowBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.knowFun,this),this.ifShare.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ifShareFun,this)},t.prototype.knowFun=function(){egret.Tween.removeTweens(this.light),1==this.shareType&&CallbackMaster.openShare(null,!1),sceneMaster.littleModal?sceneMaster.closeLittleModal():sceneMaster.closeModal()},t.prototype.ifShareFun=function(){this.shareType=1==this.shareType?2:1,this.shareImg.texture=RES.getRes("img_check_0"+this.shareType+"_png")},t}(eui.Component);__reflect(getSuccess.prototype,"getSuccess",["eui.UIComponent","egret.DisplayObject"]);var giftModal=function(e){function t(){var t=e.call(this)||this;return t.terval=null,t.current=0,t.speed=1e3,t.choosing=!1,t.canTap=!0,t.dataArr=[{id:0,name:"img_gift_05_png",num:1,type:"bullet"},{id:1,name:"img_gift_02_png",num:30,type:"gold"},{id:2,name:"img_gift_05_png",num:1,type:"bullet"},{id:3,name:"img_gift_04_png",num:1,type:"glass"},{id:4,name:"img_gift_01_png",num:2,type:"life"},{id:5,name:"img_gift_02_png",num:20,type:"gold"},{id:6,name:"img_gift_01_png",num:1,type:"life"},{id:7,name:"img_gift_03_png",num:10,type:"gold"}],t}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.init=function(){var e=this;userDataMaster.todayGift?(e.getBtn.texture=RES.getRes("btn_lottery_0"+(userDataMaster.dayGift.num+1)+"_png"),e.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.getFun,this)):e.getBtn.texture=RES.getRes("btn_lottery_03_png"),e.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.closeFun,this),e.terval=setInterval(function(){e.timer(e)},1e3)},t.prototype.timer=function(e){if(e["bg_"+e.current].texture=RES.getRes("img_bg_lottery_01_png"),e.current=e.current<7?e.current+1:0,e["bg_"+e.current].texture=RES.getRes("img_bg_lottery_02_png"),!e.canTap&&e.speed>=1e3){e.choosing=!1;var t=Math.floor(8*Math.random()*1e3)+5;setTimeout(function(){if(!e.canTap){clearInterval(e.terval);var t=e.dataArr[e.current];switch(t.type){case"glass":case"bullet":var o=userDataMaster.tool;o[t.type].num+=t.num,userDataMaster.myTool=o;break;case"gold":var i=userDataMaster.gold;i+=t.num,userDataMaster.myGold=i;break;case"life":var r=userDataMaster.life;r+=t.num,userDataMaster.myLife=r}0==userDataMaster.dayGift.num?userDataMaster.dayGift.num++:"",e.getBtn.texture=RES.getRes("btn_lottery_0"+(userDataMaster.dayGift.num+1)+"_png"),sceneMaster.openLittleModal(new getSuccess(t.name,"X"+t.num)),e.canTap=!0}},t)}e.choosing&&(e.speed+=100,clearInterval(e.terval),e.terval=setInterval(function(){e.timer(e)},e.speed))},t.prototype.getFun=function(){function e(){t.canTap=!1,t.speed=50,clearInterval(t.terval),t.terval=setInterval(function(){t.timer(t)},t.speed),setTimeout(function(){t.choosing=!0},3e3)}var t=this;t.canTap&&userDataMaster.todayGift&&(egret.Tween.removeTweens(t.getBtn),egret.Tween.get(t.getBtn).to({scaleX:.8,scaleY:.8},60).to({scaleX:1,scaleY:1},60),0==userDataMaster.dayGift.num?e():1==userDataMaster.dayGift.num&&AdMaster.useVideo(function(){e()},function(){CallbackMaster.openShare(function(){e()})}))},t.prototype.closeFun=function(){sceneMaster.closeModal()},t}(eui.Component);__reflect(giftModal.prototype,"giftModal",["eui.UIComponent","egret.DisplayObject"]);var levelItem=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.init=function(){this.bodyGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.jumpFun,this)},t.prototype.jumpFun=function(){egret.Tween.removeAllTweens(),sceneMaster.openModal(new playBefore(this.data.level))},t.prototype.dataChanged=function(){var e=(this.data.level+1)%t.point.length+1;if(this.map.texture=RES.getRes("img_map_0"+e+"_png"),this.bodyGroup.x=t.point[e-1].x,this.bodyGroup.y=t.point[e-1].y,this.levelText.text=this.data.level+"",this.data.level<=userDataMaster.levelStar.length){this.bgImg.texture=RES.getRes("img_wood_01_png");for(var o=1;o<=userDataMaster.levelStar[this.data.level-1];o++)this["star_"+o].texture=RES.getRes("img_star_b1_png")}else this.data.level==userDataMaster.levelStar.length+1?this.bgImg.texture=RES.getRes("img_wood_01_png"):(this.removeChild(this.star_1),this.removeChild(this.star_2),this.removeChild(this.star_3),this.bodyGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.jumpFun,this));this.cacheAsBitmap=!0},t.point=[{x:230,y:-30},{x:142,y:0},{x:262,y:-6},{x:422,y:-40},{x:480,y:0},{x:255,y:-30},{x:120,y:-30},{x:260,y:0},{x:390,y:-26}],t}(eui.ItemRenderer);__reflect(levelItem.prototype,"levelItem",["eui.UIComponent","egret.DisplayObject"]),window.levelItem=levelItem;var levelUpModal=function(e){function t(t,o){var i=e.call(this)||this;return i.level=t,i.info=o,i}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.videoBtn?this.init():this.addEventListener(egret.Event.COMPLETE,this.init,this)},t.prototype.init=function(){this.scoreText.text=this.info.score+"",this.levelText.text="第"+this.level+"关",this.goldText.text="X"+this.info.gold,this.level>userDataMaster.levelStar.length?(userDataMaster.levelStar.push(this.info.star),userDataMaster.myLevel=this.level):this.info.star>userDataMaster.levelStar[this.level-1]&&(userDataMaster.levelStar[this.level-1]=this.info.star);for(var e=this,t=function(t){setTimeout(function(){e["star_"+t].texture=RES.getRes("img_star_a1_png")},1e3*t)},o=1;o<=this.info.star;o++)t(o);var i={uid:userDataMaster.myInfo.uid,level:e.level,score:e.info.score,star:e.info.star};ServiceMaster.post(ServiceMaster.getScore,i,function(e){1===parseInt(e.code)&&e.data}),this.videoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.videoFun,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getFun,this)},t.prototype.videoFun=function(){function e(){userDataMaster.myGold=userDataMaster.gold+2*t.info.gold,sceneMaster.changeScene(new startScene),sceneMaster.openModal(new getSuccess("img_diamond_big_png","X"+2*t.info.gold))}AdMaster.useVideo(function(){e()},function(){CallbackMaster.openShare(function(){e()})});var t=this},t.prototype.getFun=function(){userDataMaster.myGold=userDataMaster.gold+this.info.gold,sceneMaster.changeScene(new startScene),sceneMaster.openModal(new getSuccess("img_diamond_big_png","X"+this.info.gold))},t}(eui.Component);__reflect(levelUpModal.prototype,"levelUpModal",["eui.UIComponent","egret.DisplayObject"]);var moreComponent=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.getInstance=function(){return t.shared||(t.shared=new t),t.shared},t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.init=function(){var e=userDataMaster.recommand[1].games;this.sourceArr=new eui.ArrayCollection(e),this.dataGroup=new eui.DataGroup,this.dataGroup.dataProvider=this.sourceArr,this.dataGroup.percentWidth=400,this.dataGroup.percentHeight=170*this.sourceArr.length,this.content.height=170*this.sourceArr.length,this.dataGroup.useVirtualLayout=!0;var t=new eui.TileLayout;t.horizontalGap=30,t.verticalGap=40,this.dataGroup.layout=t,this.content.addChild(this.dataGroup),this.dataGroup.itemRenderer=moreItem,this.changeArea.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changePosition,this),this.tipImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changePosition,this)},t.prototype.changePosition=function(){var e=this;1==this.tipImg.visible&&(this.tipImg.visible=!1),-465==this.container.x?egret.Tween.get(this.container).to({x:0},500).call(function(){e.changeArea.texture=RES.getRes("btn_more_game_turn_png")}):egret.Tween.get(this.container).to({x:-465},500).call(function(){e.changeArea.texture=RES.getRes("btn_more_game_png")})},t}(eui.Component);__reflect(moreComponent.prototype,"moreComponent",["eui.UIComponent","egret.DisplayObject"]),window.moreComponent=moreComponent;var moreItem=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.init=function(){var e=this;this.image.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){CallbackMaster.recommandClick(1,e.data);var t=2;platform.navigateToMiniProgram({appId:e.data.appid,path:e.data.path,extraData:{},success:function(e){},fail:function(e){t=3},complete:function(){CallbackMaster.recommandClick(t,e.data)}})},this)},t.prototype.dataChanged=function(){this.title.text=this.data.name,this.image.source=this.data.image||""},t}(eui.ItemRenderer);__reflect(moreItem.prototype,"moreItem",["eui.UIComponent","egret.DisplayObject"]),window.moreItem=moreItem;var myShop=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.goldGroup?this.init():this.addEventListener(egret.Event.COMPLETE,this.init,this)},t.prototype.init=function(){var e=this;e.goldNum.text=userDataMaster.gold+"",e.scroller.height=e.stage.stageHeight-150,e.sourceArr=new eui.ArrayCollection(userDataMaster.bulletArr),e.dataGroup=new eui.DataGroup,e.dataGroup.dataProvider=e.sourceArr,e.dataGroup.useVirtualLayout=!0;var t=new eui.VerticalLayout;t.gap=-20,e.dataGroup.layout=t,e.dataGroup.itemRenderer=shopItem,e.contentGroup.height=293*userDataMaster.bulletArr.length,e.contentGroup.addChild(e.dataGroup),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this),this.goldGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.goldGroupFun,this),userDataMaster.myCollection.addEventListener(eui.CollectionEvent.COLLECTION_CHANGE,this.collectionChangeHandler,this)},t.prototype.collectionChangeHandler=function(e){var t=this;userDataMaster.bulletArr[userDataMaster.bulletIndex];t.goldNum.text=userDataMaster.gold+"",t.sourceArr.refresh()},t.prototype.closeFun=function(){sceneMaster.closeModal()},t.prototype.goldGroupFun=function(){},t}(eui.Component);__reflect(myShop.prototype,"myShop",["eui.UIComponent","egret.DisplayObject"]);var playBefore=function(e){function t(t){var o=e.call(this)||this;return o.choose={glass:!1,bullet:!1},o.level=t,o}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.startBtn?this.init():this.addEventListener(egret.Event.COMPLETE,this.init,this)},t.prototype.init=function(){var e=this;userDataMaster.tool.glass.num<=0&&(e.glassNum.visible=!1,e.glassAdd.visible=!0),userDataMaster.tool.bullet.num<=0&&(e.bulletNum.visible=!1,e.bulletAdd.visible=!0),userDataMaster.dayFreeLife.num>=3&&(e.videoBtn.texture=RES.getRes("btn_before_02_png")),e.titleText.text="第"+this.level+"关",e.startBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.startFun,this),e.videoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.videoFun,this),e.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.closeFun,this),e.glass.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.chooseFun("glass")},this),e.bullet.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.chooseFun("bullet")},this)},t.prototype.chooseFun=function(e){function t(){var t=userDataMaster.tool;t[e].num++,userDataMaster.myTool=t,o[e+"Add"].visible=!1,o[e+"Num"].visible=!0,o[e+"Num"].text="X"+t[e].num}var o=this;return!o.choose[e]&&userDataMaster.tool[e].num<=0?void AdMaster.useVideo(function(){t()},function(){CallbackMaster.openShare(function(){t()})}):(o.choose[e]=!o.choose[e],o[e+"Choose"].visible=o.choose[e],o[e+"Light"].visible=o.choose[e],o[e+"Num"].visible=!o.choose[e],void 0)},t.prototype.startFun=function(e){if(void 0===e&&(e=!0),e){if(userDataMaster.life<=0)return void console.log("体力不足");userDataMaster.myLife=userDataMaster.life-1}for(var t in this.choose)this.choose[t]&&userDataMaster.tool[t].num--;sceneMaster.changeScene(new runningScene(this.level,{},this.choose))},t.prototype.videoFun=function(){var e=this;userDataMaster.dayFreeLife||platform.showModal({title:"温馨提醒",content:"今日免体力次数已用完，请明日再来"}),userDataMaster.dayFreeLife.num<3?CallbackMaster.openShare(function(){e.startFun(!1)}):AdMaster.useVideo(function(){e.startFun(!1)},function(){CallbackMaster.openShare(function(){e.startFun(!1)})})},t.prototype.closeFun=function(){sceneMaster.littleModal?sceneMaster.closeLittleModal():sceneMaster.closeModal()},t}(eui.Component);__reflect(playBefore.prototype,"playBefore",["eui.UIComponent","egret.DisplayObject"]);var rankItem=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.init=function(){},t.prototype.dataChanged=function(){this.data.rank.length>4&&(this.data.rank=this.data.rank.slice(0,4)+"…"),this.index.text=this.data.rank+"",this.headimg.source=this.data.avatarUrl,this.level.text="关卡"+this.data.level,this.score.text=this.data.score,this.data.nickName.length>5&&(this.data.nickName=this.data.nickName.slice(0,5)+"…"),this.nickName.text=this.data.nickName,this.headimg.mask=this.headimgMask,this.data.rank<4?(this.bestHat.visible=!0,this.bestHat.texture=RES.getRes("icn_medal_0"+this.data.rank+"_png")):this.bestHat.visible=!1;for(var e=1;e<=this.data.star;e++)this["star_"+e].texture=RES.getRes("img_star_b1_png")},t}(eui.ItemRenderer);__reflect(rankItem.prototype,"rankItem",["eui.UIComponent","egret.DisplayObject"]);var rankModal=function(e){function t(){var t=e.call(this)||this;return t.dataGroup=new eui.DataGroup,t.sourceArr=new eui.ArrayCollection([]),t.currentType="friend",t.worldPage=1,t.endPage=1,t.pageSize=6,t}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.bgImg?this.init():this.addEventListener(egret.Event.COMPLETE,this.init,this)},t.prototype.init=function(){var e=this;platform.openDataContext.postMessage({type:"rank",width:588,height:740});var t=platform.openDataContext.createDisplayObject();this.friendGroup.addChild(t),this.dataGroup.dataProvider=this.sourceArr,this.dataGroup.itemRenderer=rankItem;var o=new eui.VerticalLayout;o.gap=5,this.dataGroup.layout=o,this.worldGroup.addChild(this.dataGroup),this.getWorld(),this.lastPage.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.changePage("-1")},this),this.nextPage.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.changePage("+1")},this),this.goHome.addEventListener(egret.TouchEvent.TOUCH_TAP,this.goHomeFun,this),this.friend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.friendFun,this),this.world.addEventListener(egret.TouchEvent.TOUCH_TAP,this.worldFun,this)},t.prototype.changePage=function(e){"friend"==this.currentType?this.getMore(e):("-1"==e?this.worldPage>1?this.worldPage--:1:this.worldPage<this.endPage?this.worldPage++:"",this.getWorld())},t.prototype.getWorld=function(){var e=this,t=this,o={uid:userDataMaster.getMyInfo.uid,page:t.worldPage,size:t.pageSize};ServiceMaster.post(ServiceMaster.rank_world,o,function(o){if(1==o.code&&o.data){var i=o.data.rank_world;t.myRank.text="您当前为：第"+o.data.rank_user.rank+"名",t.endPage=o.data.page_num,t.sourceArr.removeAll(),e.pageText.text=t.worldPage+" / "+t.endPage;for(var r=0;r<i.length;r++)t.sourceArr.addItem(i[r])}})},t.prototype.friendFun=function(){this.pageText.visible=!1,this.myRank.visible=!1,this.friend.texture=RES.getRes("btn_tittle_a1_png"),this.world.texture=RES.getRes("btn_tittle_b2_png"),this.friendGroup.visible=!0,this.worldGroup.visible=!1,this.currentType="friend"},t.prototype.worldFun=function(){this.pageText.visible=!0,this.myRank.visible=!0,this.friend.texture=RES.getRes("btn_tittle_a2_png"),this.world.texture=RES.getRes("btn_tittle_b1_png"),this.friendGroup.visible=!1,this.worldGroup.visible=!0,this.currentType="world"},t.prototype.getMore=function(e){platform.openDataContext.postMessage({type:"rank",page:e,width:588,height:740})},t.prototype.goHomeFun=function(){sceneMaster.closeModal()},t}(eui.Component);__reflect(rankModal.prototype,"rankModal",["eui.UIComponent","egret.DisplayObject"]);var rebornModal=function(e){function t(t,o){var i=e.call(this)||this;return i.level=t,i.myData=o,i}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.ignoreBtn?this.init():this.addEventListener(egret.Event.COMPLETE,this.init,this)},t.prototype.init=function(){var e=this;e.ignoreBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ignoreFun,this);var t=5,o=setInterval(function(){t>0?(t--,e.num.texture=RES.getRes("img_countdown_0"+t+"_png")):(e.ignoreBtn.visible=!0,clearInterval(o))},1e3)},t.prototype.ignoreFun=function(){sceneMaster.openModal(new gameOver(this.level,this.myData))},t}(eui.Component);__reflect(rebornModal.prototype,"rebornModal",["eui.UIComponent","egret.DisplayObject"]);var shopItem=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){if(this.img.texture=RES.getRes(this.data.img+"_png"),0==this.data.id?this.bgImg.texture=RES.getRes("img_bg_bullet_01_png"):this.bgImg.texture=RES.getRes("img_bg_bullet_02_png"),0==this.data.state&&userDataMaster.gold<this.data.price)this.btn.texture=RES.getRes("btn_insufficient_png");else{var e=0==this.data.state?"btn_buy":"btn_use";this.btn.texture=RES.getRes(e+"_png")}this.data.id==userDataMaster.bulletIndex&&(this.btn.texture=RES.getRes("img_using_png")),this.title.text=this.data.title,this.price.text="x"+this.data.price,this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getFun,this)},t.prototype.getFun=function(){if(0==this.data.state)if(userDataMaster.gold>=this.data.price){userDataMaster.bulletArr[this.data.id].state=1,userDataMaster.myGold=userDataMaster.gold-this.data.price;var e=userDataMaster.bulletArr[this.data.id];sceneMaster.openLittleModal(new getSuccess(e.img+"_png",e.title))}else{console.log("金币不足");var t=new eui.Label("金币不足");t.size=30,t.textColor=16777215,t.x=(750-t.width)/2,t.y=500,this.parent.addChild(t),egret.Tween.get(t).to({y:100},1e3).to({alpha:0},500).call(function(){t.parent&&t.parent.removeChild(t)})}else 1==this.data.state&&(userDataMaster.myBulleIndex=this.data.id,console.log("使用这个"))},t}(eui.ItemRenderer);__reflect(shopItem.prototype,"shopItem",["eui.UIComponent","egret.DisplayObject"]);var teachModal=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.bgImg?this.init():this.addEventListener(egret.Event.COMPLETE,this.init,this)},t.prototype.init=function(){this.bgImg.height=this.stage.stageHeight,this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this)},t.prototype.closeFun=function(){sceneMaster.closeModal()},t}(eui.Component);__reflect(teachModal.prototype,"teachModal",["eui.UIComponent","egret.DisplayObject"]);var cloudCom=function(e){function t(t){var o=e.call(this)||this;return o.title=t,o}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.init=function(){this.img_1.texture=RES.getRes(this.title+"_left_png"),this.img_2.texture=RES.getRes(this.title+"_right_png"),egret.Tween.get(this.img_1,{loop:!0}).to({x:-750},1e4).to({x:750},0).to({x:0},1e4),egret.Tween.get(this.img_2,{loop:!0}).to({x:0},1e4).to({x:-750},1e4).to({x:750},0)},t}(eui.Component);__reflect(cloudCom.prototype,"cloudCom",["eui.UIComponent","egret.DisplayObject"]);var gameOver=function(e){function t(t,o){var i=e.call(this)||this;return i.level=t,i.myData=o,i}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.homeBtn?this.init():this.addEventListener(egret.Event.COMPLETE,this.init,this)},t.prototype.init=function(){var e=this,t=new eui.DataGroup,o=userDataMaster.recommand[1].games.slice(0,4),i=new eui.ArrayCollection(o);t.dataProvider=i;var r=new eui.HorizontalLayout;r.gap=-5,t.layout=r,t.itemRenderer=moreItem,e.moreGroup.addChild(t);var n={uid:userDataMaster.myInfo.uid,level:this.level,score:e.myData.score,star:e.myData.star};ServiceMaster.post(ServiceMaster.getScore,n,function(e){1===parseInt(e.code)&&e.data}),this.levelText.text="第"+this.level+"关",this.levelProccess.text=this.myData.amount+"/"+userDataMaster.levelArr[this.level-1].amount,this.shareBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.shareFun,this),this.homeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.homeFun,this),this.playBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.playFun,this)},t.prototype.shareFun=function(){CallbackMaster.openShare(null,!1)},t.prototype.homeFun=function(){sceneMaster.changeScene(new startScene)},t.prototype.playFun=function(){var e=this.level;sceneMaster.openLittleModal(new playBefore(e))},t}(eui.Component);__reflect(gameOver.prototype,"gameOver",["eui.UIComponent","egret.DisplayObject"]);var levelCom=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.init=function(){var e=this;e.sourceArr=new eui.ArrayCollection(userDataMaster.levelArr),e.dataGroup=new eui.DataGroup,e.dataGroup.dataProvider=e.sourceArr,e.dataGroup.useVirtualLayout=!0;var t=new eui.VerticalLayout;t.gap=0,e.dataGroup.layout=t,e.dataGroup.itemRenderer=levelItem,e.dataGroup.y=424,e.content.height=e.dataGroup.y+130*userDataMaster.levelArr.length+300,e.content.addChildAt(e.dataGroup,3),userDataMaster.levelStar.length>1&&(this.scroller.viewport.scrollV=130*(userDataMaster.levelStar.length-1)),setTimeout(function(){var t=(userDataMaster.level+1+1)%levelItem.point.length+1;e.head.x=levelItem.point[t-1].x,e.head.y=e.dataGroup.y-e.head.height+levelItem.point[t-1].y+130*userDataMaster.level,e.headimg.source=userDataMaster.myInfo.avatarUrl,e.headimg.mask=e.headmask},300)},t}(eui.Component);__reflect(levelCom.prototype,"levelCom",["eui.UIComponent","egret.DisplayObject"]);var runningScene=function(e){function t(t,o,i){void 0===o&&(o={}),void 0===i&&(i={glass:!1,bullet:!1});var r=e.call(this)||this;return r.arcPro=new egret.Shape,r.factor=50,r.currentTimer=egret.getTimer(),r.ceilArr=[],r.adaptParams={gridAreaTop:204,gridAreaLeft:39,itemWidth:96},r.worldSpeed=1e3,r.ballSpeed=800,r.gridArr=[],r.beeArr=[],r.shooting=!1,r.myData={beeNum:5,amount:0,score:0,reborn:0,gold:0,star:0,line:0},r.tooling=null,r.chooseTool={glass:!1,bullet:!1},r.shootPoint={bx:375,by:1034,ex:0,ey:0,floor:!1,beeNum:0,speedy:3},console.log(t),r.levelInfo=userDataMaster.levelArr[t-1],o&&o.beeNum&&(r.myData=o),r.chooseTool=i,r}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.bgImg?this.init():this.addEventListener(egret.Event.COMPLETE,this.init,this)},t.prototype.init=function(){var e=this;this.levelText.text=this.levelInfo.level+"",this.bulletImg.texture=RES.getRes(userDataMaster.bulletArr[userDataMaster.bulletIndex].img+"_png"),this.bulletNum.text="X"+this.myData.beeNum,this.amountText.text=this.myData.amount+"/"+this.levelInfo.amount,this.bgImg.height=this.stage.stageHeight,this.world=new p2.World,this.world.sleepMode=p2.World.BODY_SLEEPING,this.world.gravity=[0,-10],this.world.defaultContactMaterial.restitution=1;for(var t=0,o=e.myData.beeNum;o>t;t++){var i=new beeCom;i.createBody(e),e.beeArr.push(i),e.shootPoint.beeNum++}e.updateBee(),e.createCeil();for(var t=3;t>0;t--)e.createGrids(t);for(var t=1;t<=e.myData.star;t++)e["star_"+t].texture=RES.getRes("img_star_b1_png");e.scoreProccess.addChildAt(e.arcPro,2),e.scoreText.text=e.myData.score+"",e.changeGraphics(),e.toolState(),e.world.on("beginContact",this.onBeginContact,this),this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),e.rayGroup.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.touchBeginFun,this),e.rayGroup.addEventListener(egret.TouchEvent.TOUCH_MOVE,e.touchMoveFun,this),e.rayGroup.addEventListener(egret.TouchEvent.TOUCH_END,e.touchEndFun,this),platform.onShow(function(){e.currentTimer=egret.getTimer()})},t.prototype.toolState=function(){for(var e=this,t=["hammer","hat","lamp"],o=function(o){var r=userDataMaster.tool[t[o]];userDataMaster.level+1>=r.level?(r.num>0&&(e[t[o]+"_add"].visible=!1,e[t[o]+"_num"].visible=!0,e[t[o]+"_num"].text="X"+r.num),r.unlock||(userDataMaster.tool[t[o]].unlock=!0),e[t[o]].addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.judgeTool(t[o])
},i)):(e[t[o]+"_img"].texture=RES.getRes("icn_lock_png"),e[t[o]+"_text"].visible=!0,e[t[o]+"_add"].visible=!1)},i=this,r=0;r<t.length;r++)o(r)},t.prototype.judgeTool=function(e){function t(){userDataMaster.tool[e].num++,o[e+"_add"].visible=!1,o[e+"_num"].visible=!0,o[e+"_num"].text="X"+userDataMaster.tool[e].num}console.log(e,userDataMaster.tool[e]);var o=this;if(userDataMaster.tool[e].num>0){if(o.tooling=e,userDataMaster.tool[e].num--,o[e+"_add"].visible=!0,o[e+"_num"].visible=!1,"hammer"==e){var i=new eui.Rect(o.stage.stageWidth,o.stage.stageHeight,0);i.alpha=.7,o.addChildAt(i,9),o.hammerShow=i}else if("hat"==e);else if("lamp"==e){var r=o.createBitmapByName("img_prop_e1");r.x=(o.stage.stageWidth-r.width)/2,r.y=195,o.addChild(r),o.lampShow=r}}else AdMaster.useVideo(function(){t()},function(){CallbackMaster.openShare(function(){t()})})},t.prototype.createCeil=function(){for(var e=[{x:676.5,y:489,width:.18,height:20},{x:-4.5,y:489,width:.18,height:20},{x:345,y:-4.5,width:13.8,height:.18},{x:345,y:945,width:13.8,height:.4}],t=0,o=e.length;o>t;t++){var i=e[t],r=new p2.Body({mass:1,position:[this.getPosition(i.x,2),this.getPosition(i.y)],type:p2.Body.KINEMATIC}),n=new p2.Box({width:i.width,height:i.height});n.collisionGroup=6,n.collisionMask=5,r.addShape(n),r.displays=[],this.world.addBody(r),this.ceilArr.push(r)}},t.prototype.getPosition=function(e,t){void 0===t&&(t=1);var o=this.adaptParams,i=0;return i=1==t?(this.stage.stageHeight-(o.gridAreaTop+e))/this.factor:(o.gridAreaLeft+e)/this.factor},t.prototype.updateProccess=function(e){void 0===e&&(e=0);var t=this;0==e?(t.myData.amount++,t.amountText.text=t.myData.amount+"/"+t.levelInfo.amount,t.amountPro.width=t.myData.amount/t.levelInfo.amount*100,t.myData.amount>=t.levelInfo.amount&&console.log("level up")):(t.myData.score+=e,t.myData.star<1&&t.myData.score>=.34*t.levelInfo.score&&(t.star_1.texture=RES.getRes("img_star_b1_png"),t.myData.star=1),t.myData.star<2&&t.myData.score>=.67*t.levelInfo.score&&(t.star_2.texture=RES.getRes("img_star_b1_png"),t.myData.star=2),t.myData.star<3&&t.myData.score>=t.levelInfo.score&&(t.star_3.texture=RES.getRes("img_star_b1_png"),t.myData.star=3),t.scoreText.text=t.myData.score+"",t.changeGraphics())},t.prototype.createGrids=function(e){void 0===e&&(e=1);var t=this;if(t.myData.amount>=t.levelInfo.amount&&(t.removeEventListener(egret.Event.ENTER_FRAME,t.onEnterFrame,t),t.rayGroup.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.touchBeginFun,t),t.rayGroup.removeEventListener(egret.TouchEvent.TOUCH_MOVE,t.touchMoveFun,t),t.rayGroup.removeEventListener(egret.TouchEvent.TOUCH_END,t.touchEndFun,t),sceneMaster.openModal(new levelUpModal(t.levelInfo.level,t.myData))),!(t.levelInfo.existAmount>=t.levelInfo.amount)){t.myData.line++;for(var o=0;7>o;o++){var i=void 0,r=Math.random();if(!(r>.7)){if(.5>r&&t.levelInfo.existAmount<t.levelInfo.amount){var n=Math.floor(1+t.levelInfo.level+t.myData.line);i=new gridCom(n),t.levelInfo.existAmount++}else.6>r?i=new ballCom:.7>r&&(i=new starCom);var a=o*t.adaptParams.itemWidth+t.adaptParams.itemWidth/2,s=e*t.adaptParams.itemWidth+t.adaptParams.itemWidth/2;t.world.addBody(i.createBody(t.getPosition(a,2),t.getPosition(s),t)),t.gridArr.push(i)}}}},t.prototype.touchBeginFun=function(e){function t(){o.rayGroup.addEventListener(egret.TouchEvent.TOUCH_MOVE,o.touchMoveFun,o),o.rayGroup.addEventListener(egret.TouchEvent.TOUCH_END,o.touchEndFun,o),o.tooling=null,o.hammerShow.parent&&o.hammerShow.parent.removeChild(o.hammerShow)}if(!this.shooting){var o=this;if(o.hammerShow&&"hammer"==o.tooling){o.rayGroup.removeEventListener(egret.TouchEvent.TOUCH_MOVE,o.touchMoveFun,o),o.rayGroup.removeEventListener(egret.TouchEvent.TOUCH_END,o.touchEndFun,o);for(var i=function(i,r){var n=o.gridArr[i].img.hitTestPoint(e.stageX,e.stageY);return n?(3==o.gridArr[i].type||4==o.gridArr[i]?o.gridArr[i].updateText(o,function(){o.gridArr[i].img.parent&&4==o.gridArr[i].type&&(o.world.removeBody(o.gridArr[i].boxBody),o.gridArr[i].img.parent.removeChild(o.gridArr[i].img)),o.gridArr.splice(i,1),t()}):o.gridArr[i].updateText(o,o.gridArr[i].num,function(){o.updateProccess(),t()}),"break"):void 0},r=0,n=this.gridArr.length;n>r;r++){var a=i(r,n);if("break"===a)break}}else this.touchMoveFun(e)}},t.prototype.useTool=function(e){},t.prototype.touchMoveFun=function(e){this.shooting||(this.shootPoint.ex=e.stageX,this.shootPoint.ey=e.stageY,this.shootPoint.speedy=1,this.testRay())},t.prototype.touchEndFun=function(e){var t=this;if(!this.shooting){this.shootPoint.speedy=3,this.shootPoint.ex=e.stageX,this.shootPoint.ey=e.stageY;var o=t.shootPoint.ex-t.shootPoint.bx,i=t.shootPoint.ey-t.shootPoint.by,r=t.shootPoint.bx/t.factor,n=(t.stage.stageHeight-t.shootPoint.by)/t.factor;this.rayGroup.removeChildren(),this.hero.rotation=0,setTimeout(function(){t.shooting=!0,console.log("shoot",t.shooting)},100);for(var a=function(e){var a=t.beeArr[e].boxBody;setTimeout(function(){"hat"==t.tooling&&t.beeArr[e].powerUp(2),egret.Tween.removeTweens(a.displays[0]),a.position[0]=r,a.position[1]=n,a.velocity=[o/t.factor,-i/t.factor],a.gravityScale=0,t.updateSpeed(a)},150*e)},s=0;s<t.beeArr.length;s++)a(s)}},t.prototype.testRay=function(){var e=this,t=e.shootPoint.bx/e.factor,o=(e.stage.stageHeight-e.shootPoint.by)/e.factor,i=e.shootPoint.ex/e.factor,r=(e.stage.stageHeight-e.shootPoint.ey)/e.factor,n=i-t,a=r-o,s=new p2.Ray({from:[t,o],to:[i+25/a*n,r+25],mode:p2.Ray.CLOSEST,checkCollisionResponse:!0,collisionGroup:1,collisionMask:4});e.hero.rotation=350;var l=new p2.RaycastResult;e.world.raycast(l,s),l&&l.body&&e.createLine(l,s)},t.prototype.createLine=function(e,t){var o=this;this.rayGroup.removeChildren();for(var i=(o.shootPoint.bx/o.factor,(o.stage.stageHeight-o.shootPoint.by)/o.factor,e.getHitDistance(t)),r=t.to[0]-t.from[0],n=t.to[1]-t.from[1],a=0;i-1>a;a++){var s=o.createBitmapByName("point");s.width=10,s.height=10,s.anchorOffsetX=s.width/2,s.anchorOffsetY=s.height/2,s.x=(t.from[0]+r/t.length*a)*o.factor-o.rayGroup.x,s.y=o.stage.stageHeight-(t.from[1]+n/t.length*a)*o.factor-o.rayGroup.y,this.rayGroup.addChild(s)}var l=o.createBitmapByName("arrow");l.width=10,l.height=10,l.anchorOffsetX=l.width/2,l.anchorOffsetY=l.height/2,l.x=(t.from[0]+r/t.length*(i-.5))*o.factor-o.rayGroup.x,l.y=o.stage.stageHeight-(t.from[1]+n/t.length*(i-.5))*o.factor-o.rayGroup.y,this.rayGroup.addChild(l)},t.prototype.onBeginContact=function(e){var t=this,o=e.bodyA,i=e.bodyB,r=7==o.shapes[0].collisionMask&&i.type==p2.Body.KINEMATIC,n=7==i.shapes[0].collisionMask&&o.type==p2.Body.KINEMATIC,a=7==o.shapes[0].collisionMask&&7==i.shapes[0].collisionMask;if(r||n||a)return o.velocity[0]&&(o.velocity[0]=-o.velocity[0]),void(i.velocity[0]&&(i.velocity[0]=-i.velocity[0]));for(var s=0;s<t.beeArr.length;s++){var l=t.beeArr[s].boxBody;if(o.id==l.id||i.id==l.id){var u;if(o.id==l.id?u=i:i.id==l.id&&(u=o),u.id==t.ceilArr[0].id||u.id==t.ceilArr[1].id||u.id==t.ceilArr[2].id)return void(l.angle=0);if(u.id==t.ceilArr[3].id)return l.angle=0,l.fixedRotation=!0,l.gravityScale=1,void(l.velocity=[0,-t.shootPoint.speedy]);for(var d=function(e){if(t.gridArr[e].boxBody.id==u.id){if(3==t.gridArr[e].type){if(!t.gridArr[e].isRemoved){t.shootPoint.beeNum++;var o=t.gridArr[e].boxBody.position[0];t.gridArr[e].updateText(t,function(){var e=new beeCom;e.createBody(t,o),t.beeArr.push(e),t.myData.beeNum++,t.bulletNum.text="X"+t.myData.beeNum})}}else if(4==t.gridArr[e].type)t.beeArr[s].powerUp(2*t.beeArr[s].power),t.gridArr[e].updateText(t);else if(!t.gridArr[e].isRemoved){var i=t.beeArr[s].power>t.gridArr[e].num?t.gridArr[e].num:t.beeArr[s].power;t.updateProccess(i),t.gridArr[e].updateText(t,t.beeArr[s].power,function(e){t.updateProccess()})}return"break"}},c=0;c<t.gridArr.length;c++){var h=d(c);if("break"===h)break}break}}},t.prototype.getPlayerContactPos=function(){},t.prototype.onEndContact=function(e){var t=e.bodyA,o=e.bodyB;5==t.id||5==o.id},t.prototype.onEnterFrame=function(){var e=this,t=egret.getTimer()-this.currentTimer;if(!(10>t||t>1e3)){this.world.step(t/this.worldSpeed),this.currentTimer=egret.getTimer();for(var o=egret.MainContext.instance.stage.stageHeight,i=this.world.bodies.length,r=0;i>r;r++)for(var n=this.world.bodies[r],a=n.displays.length,s=0;a>s;s++){var l=n.displays[s];l&&(0==s&&(l.anchorOffsetX=n.displays[0].width/2),l.x=n.position[0]*this.factor,l.y=o-n.position[1]*this.factor,l.rotation=180*n.angle/Math.PI)}for(var u=0,d=0,c=this.beeArr.length;c>d;d++){var h=this.beeArr[d].boxBody;if(h.position[1]<=e.getPosition(856)){if(u++,0==h.gravityScale&&(h.velocity[0]=0,h.angle=0,h.displays[0].rotation=0,h.gravityScale=1,this.beeArr[d].powerUp(1),!e.shootPoint.floor)){e.shootPoint.floor=!0,e.shootPoint.bx=h.position[0]*e.factor;var p=e.shootPoint.bx+e.hero.anchorOffsetX-e.hero.width/2,g=Math.abs(e.hero.x-p);egret.Tween.get(e.hero).to({x:p},g)}d==c-1&&u==c&&e.shooting&&e.shootPoint.beeNum==c&&(console.log("enter",e.shooting),e.shooting=!1,e.shootPoint.floor=!1,"lamp"!=e.tooling&&(e.tooling=null),setTimeout(function(){e.updateGrids(),e.updateBee()},100))}else 0==h.gravityScale?this.updateSpeed(h):(h.velocity[1]=-e.shootPoint.speedy,this.beeArr[d].powerUp(1))}for(var m=e.gridArr.length,f=m-1;f>=0;f--)if(6==e.gridArr[f].type){var v=e.gridArr[f].boxBody.velocity[0]>0?.5:-.5;e.gridArr[f].boxBody.velocity[0]=v}}},t.prototype.updateBee=function(){var e=this,t=e.shootPoint.bx/e.factor,o=.8,i=e.hero.width/2/e.factor;t>7.5&&(o=-o,i=-i);for(var r=0,n=0,a=e.beeArr.length;a>n;n++)e.beeArr[n].boxBody.position[0]=n*o+t+i,e.beeArr[n].boxBody.position[0]>13||e.beeArr[n].boxBody.position[0]<2?e.beeArr[n].boxBody.position[0]=n%r*o+t+i/2:r=n},t.prototype.updateGrids=function(){var e=this;if(console.log(7657,e.tooling,e.lampShow),"lamp"==e.tooling&&e.lampShow)return e.tooling=null,void setTimeout(function(){e.lampShow.parent&&e.lampShow.parent.removeChild(e.lampShow),e.lampShow=null},500);for(var t=e.gridArr.length,o=t-1;o>=0;o--)if(e.gridArr[o].isRemoved)e.gridArr[o].img.parent&&4==e.gridArr[o].type&&(e.world.removeBody(e.gridArr[o].boxBody),e.gridArr[o].img.parent.removeChild(e.gridArr[o].img)),e.gridArr.splice(o,1);else{var i=e.gridArr[o].boxBody.position[1];if(i<=e.getPosition(5.5*e.adaptParams.itemWidth)&&console.log("danger"),i<=e.getPosition(6.5*e.adaptParams.itemWidth)){if(console.log("gameOver"),e.removeEventListener(egret.Event.ENTER_FRAME,e.onEnterFrame,e),e.rayGroup.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.touchBeginFun,e),e.rayGroup.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e.touchMoveFun,e),e.rayGroup.removeEventListener(egret.TouchEvent.TOUCH_END,e.touchEndFun,e),e.myData.reborn>=1)sceneMaster.openModal(new gameOver(e.levelInfo.level,e.myData));else{var r=new rebornModal(e.levelInfo.level,e.myData);sceneMaster.openModal(r),r.rebornBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.rebornFun,this)}return}e.gridArr[o].boxBody.position[1]=i-e.adaptParams.itemWidth/e.factor}e.createGrids()},t.prototype.rebornFun=function(){function e(){o.myData.reborn++,sceneMaster.changeScene(new t(o.levelInfo.level,o.myData,o.chooseTool))}var o=this;AdMaster.useVideo(function(){e()},function(){CallbackMaster.openShare(function(){e()})})},t.prototype.updateSpeed=function(e){var t=e.velocity;Math.abs(t[1])<.5&&(console.log("垂直速度为",t[1]),t[1]=-.5);var o=Math.sqrt(this.ballSpeed/(t[0]*t[0]+t[1]*t[1]));e.velocity=[o*t[0],o*t[1]];var i=Math.atan(t[1]/t[0]);0>i&&(i=2*Math.PI+i),i=-(i-Math.PI/2),t[0]<0&&(i-=Math.PI),e.angle=i},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,o=RES.getRes(e+"_png");return t.texture=o,t},t.prototype.changeGraphics=function(){var e=this.myData.score/this.levelInfo.score;e=e>1?1:e;var t=2*e*Math.PI*3/4+.55*Math.PI;this.arcPro.graphics.clear(),this.arcPro.graphics.lineStyle(14,16768862,1),this.arcPro.graphics.drawArc(60,60,50,.55*Math.PI,t,!1),this.arcPro.graphics.endFill()},t}(eui.Component);__reflect(runningScene.prototype,"runningScene",["eui.UIComponent","egret.DisplayObject"]);var startScene=function(e){function t(){var t=e.call(this)||this;return t.targetArr=["lifeGroup","goldGroup","openLife","openShare","openBullet","openShop","openRank","openGift"],t}return __extends(t,e),t.prototype.partAdded=function(t,o){e.prototype.partAdded.call(this,t,o)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.bgImg?this.init():this.addEventListener(egret.Event.COMPLETE,this.init,this)},t.prototype.init=function(){var e=this;e.bgImg.height=e.stage.stageHeight,e.navGroup.y+=e.stage.stageHeight-1334,this.liftText.text=userDataMaster.life+"/5",this.goldText.text=userDataMaster.gold+"",this.createRecommand();var t=new levelCom;this.addChildAt(t,1),t.scroller.height=this.stage.stageHeight;var o=new cloudCom("cloud_top");this.addChildAt(o,2);var i=new cloudCom("cloud_bottom");this.addChildAt(i,3),i.y=this.stage.stageHeight-i.height,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.judgeFun,e),userDataMaster.myCollection.addEventListener(eui.CollectionEvent.COLLECTION_CHANGE,this.dataChange,this)},t.prototype.createRecommand=function(e){void 0===e&&(e=0);var t=this;if(userDataMaster.recommand&&userDataMaster.recommand[1]&&userDataMaster.recommand[1].games){var o=new eui.DataGroup,i=userDataMaster.recommand[1].games.slice(0,3),r=new eui.ArrayCollection(i);o.dataProvider=r;var n=new eui.VerticalLayout;n.gap=20,o.layout=n,o.itemRenderer=moreItem,t.moreGroup.addChild(o),t.moreComponent=moreComponent.getInstance(),t.moreComponent.y=147,t.addChild(t.moreComponent),t.moreComponent.changeArea.texture=RES.getRes("btn_more_game_png")}else e++,setTimeout(function(){t.createRecommand(e)},300)},t.prototype.dataChange=function(e){this.liftText.text=userDataMaster.life+"/5",this.goldText.text=userDataMaster.gold+""},t.prototype.judgeFun=function(e){var t=this;if(!sceneMaster.modal)for(var o=0,i=t.targetArr;o<i.length;o++){var r=i[o],n=t[r],a=e.stageX-(n.x-n.anchorOffsetX+n.parent.x),s=e.stageY-(n.y-n.anchorOffsetY+n.parent.y);if(a>0&&a<n.width&&s>0&&s<n.height)return void(t[r+"Fun"]&&t[r+"Fun"]())}},t.prototype.lifeGroupFun=function(){var e=this;e.openLifeFun()},t.prototype.goldGroupFun=function(){function e(){userDataMaster.myGold=userDataMaster.gold+10,sceneMaster.openModal(new getSuccess("img_diamond_big_png","X10"))}AdMaster.useVideo(function(){e()},function(){CallbackMaster.openShare(function(){e()})})},t.prototype.openLifeFun=function(){sceneMaster.openModal(new getLifeModal)},t.prototype.openShareFun=function(){CallbackMaster.openShare(null,!1)},t.prototype.openBulletFun=function(){sceneMaster.openModal(new myShop)},t.prototype.openShopFun=function(){sceneMaster.openModal(new teachModal)},t.prototype.openRankFun=function(){sceneMaster.openModal(new rankModal)},t.prototype.openGiftFun=function(){var e=this;e.red_dot.parent&&e.red_dot.parent.removeChild(e.red_dot),sceneMaster.openModal(new giftModal)},t}(eui.Component);__reflect(startScene.prototype,"startScene",["eui.UIComponent","egret.DisplayObject"]),window.Main=Main;